

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 9.9.0.637">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>General</title>
  <meta name="description" content="Document explaining how to use the Bridgemate Data Connector for exchange of results, player data and handrecords between Bridge scoring programs and the .Net version of Bridgemate Control Software (BCS.Net)" /> 
  <meta name="keywords" content="">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="General">
  <meta name="twitter:description" content="Document explaining how to use the Bridgemate Data Connector for exchange of results, player data and handrecords between Bridge scoring programs and the .Net version of Bridgemate Control Software (BCS.Net)">

  <!-- Open Graph data -->
  <meta property="og:title" content="General" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Document explaining how to use the Bridgemate Data Connector for exchange of results, player data and handrecords between Bridge scoring programs and the .Net version of Bridgemate Control Software (BCS.Net)" />
  <meta property="og:site_name" content="Bridgemate Data Connector developer's guide" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Bridgemate Data Connector developer's guide</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="General"
		  data-hnd-context="1"
		  data-hnd-title="General"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="Revisionhistory.html" title="Revision history" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="Dataexchange.html" title="Data exchange" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>General</h2>

            <div class="main-content">
                
<h1 class="rvps5"><span class="rvts0"><span class="rvts14">Purpose of this document</span></span></h1>
<p class="rvps2"><span class="rvts6">This document describes how to use the </span><span class="rvts6">Bridgemate Data Connector</span><span class="rvts6"> &nbsp;(the </span><span class="rvts6">Data Connector</span><span class="rvts6"> for short) to exchange movement data, results, player data and handrecords between an external Bridge scoring program and the .Net version of the Bridgemate Control Software (BCS.Net, BCS for short). It is not a manual for how to use the Bridgemate. By reading this document and examining the the sample files, you should be able to integrate the wireless Bridgemate in your own scoring software and make full use of its functionality. We strongly advise to read the English manual of Bridgemate as well in order to have full understanding of the Bridgemate scoring system.</span></p>
<p class="rvps2"><span class="rvts6">It still is possible to exchange data between Bridgemate and an external program by writing to and reading from a database (.bws) file. For this consult the Bridgemate developer's guide.</span></p>
<p class="rvps2"><span class="rvts6">Mind that the </span><span class="rvts6">Bridgemate Data Connector</span><span class="rvts6"> only works with the .Net version of BCS.</span></p>
<h1 class="rvps5"><span class="rvts0"><span class="rvts14">Data exchange between Bridgemate and external programs</span></span></h1>
<p class="rvps2"><span class="rvts6">When using the </span><span class="rvts6">Bridgemate Data Connector</span><span class="rvts6"> data is exchanged by sending serialized data (as json) to and reading serialized data (as json) from an intermediary process using a named pipe. This intermediary process is called the </span><span class="rvts6">Bridgemate Data Connector</span><span class="rvts6">. External programs can write movement data, board results, player data and handrecords to the </span><span class="rvts6">Data Connector</span><span class="rvts6">, where BCS will retrieve it. Likewise BCS writes board results, player data and handrecords to the </span><span class="rvts6">Data Connector</span><span class="rvts6"> process where the external program can retrieve it. The </span><span class="rvts6">Data Connector</span><span class="rvts6"> retains the data from one side until it has been retrieved by the other side and until the other side has signalled that it has processed the data. It will always be possible to retrieve all data again, even if it has been processed before.Apart from data exchange the external program can pass commands to BCS through the </span><span class="rvts6">Data Connector</span><span class="rvts6"> to start up BCS, to start up BCS and create a scoring file for its own use and to shut down BCS.</span></p>
<h1 class="rvps5"><span class="rvts0"><span class="rvts14">The Scoringprogram pipe client</span></span></h1>
<p class="rvps2"><span class="rvts6">Bridge Systems provides the source code for a client dll, the BridgeSystems.Bridgemate.DataConnector.ScoringProgramClient.dll, that handles connect, disconnect, data exchange and management commands with the </span><span class="rvts6">Bridgemate Data Connector</span><span class="rvts6">. This client can either be accessed directly if the progamming platform for the external program supports it, or its code can be used as examples how to implement communication with the </span><span class="rvts6">Data Connector</span><span class="rvts6">. The client comes with its own documentation, available at </span><a class="rvts16" href="https://github.com/bridgesystems/BridgeSystems.Bridgemate.DataConnector.ScoringProgramClient" target="_blank">the Bridgemate github space</a><span class="rvts6">.</span></p>
<h1 class="rvps5"><span class="rvts0"><span class="rvts14">Data exchange format</span></span></h1>
<p class="rvps2"><span class="rvts6">All data is exchanged using serialization in the json format. Please refer to the examples. All programming platforms support both writing and reading of json formatted data, making it an universal data exchange format. More information can be found at </span><a class="rvts15" href="https://www.json.org/json-en.html">JSON</a></p>
<h1 class="rvps5" style="break-before: always;"><span class="rvts0"><span class="rvts14">Differences in architecture</span></span></h1>
<p class="rvps2"><span class="rvts6">The table below summarizes the differences in architecture between using data exchange using the classic database based method and the newer intermediary process based approach.</span></p>
<div class="rvps2">
<table width="100%" style="border-color: #000000; border-style: solid; border-width: 1px; border-spacing: 0px; border-top: none; border-left: none;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Topic</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Database based approach</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Data Connector</span><span class="rvts6"> based approach</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Remarks</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">BCS data</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">BCS and external program both read and write to the same database (.bws) file</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">BCS has its own scoring file. No other program should read or write to it.</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">The </span><span class="rvts6">Data Connector</span><span class="rvts6"> stores the exchange data in its own data tables</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Consecutive actions</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">No new movement data, handrecords or settings updates can be sent before the previous batch has been processed by BCS as the new batch may overwrite the previous batch with instructions</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">The external program can send consecutive batches of instrucitons (with data). These batches will be processed by BCS in the same order.</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">The .bws Tables table has an UpdateFromRound field that contains instructions for updates to that table. This field should only be modified when its original value is zero. Failure to do so will lead to the loss of the previous instruction contained in this field.</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Concurrency conflicts</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Both BCS and the external program may have to deal with locked database files and concurrent writes to a table (or record).&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">All data sent is atomic: it is not visible to the other side before it has been completely sent. Conflicts are resolved by the </span><span class="rvts6">Data Connector</span><span class="rvts6"> process.&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <br/>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">New versions</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">Newer functions for the Bridgemates may at some time no longer be supported.</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">New functions will always be supported. Effort will be put in maintaining backward compatibility.</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 1px;">
   <p class="rvps2"><span class="rvts6">The .bws file is a legacy, MS-Access 2000 based, database format. Using the </span><span class="rvts6">Data Connector</span><span class="rvts6"> BCS.Net has its own database format, which will support all future functions of the Bridgemates.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2" style="break-before: always;"><span class="rvts6"><br/></span></p>
<h1 class="rvps5"><span class="rvts0"><span class="rvts14"></span></span><span class="rvts0"><span class="rvts14"></span></span></h1>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2024 by Bridge Systems BV. All Rights Reserved.</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.7.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script src="_topic_init.js"></script>



</body>

</html>

